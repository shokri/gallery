const DATA = [
	{
		"id": 1,
		"image": "img_1.jpg",
		"up": 0,
		"down": 0,
		"description": "Lorem ipsum dolor sit amet, consectetur adipisicing elit. Explicabo, eos?"
	},
	{
		"id": 2,
		"image": "img_2.jpg",
		"up": 0,
		"down": 0,
		"description": "Veniam voluptatum voluptas tempora debitis harum totam vitae hic quos."
	},
	{
		"id": 3,
		"image": "img_3.jpg",
		"up": 0,
		"down": 0,
		"description": "Optio commodi quod vitae, vel, officiis similique quaerat odit dicta."
	},
	{
		"id": 4,
		"image": "img_4.jpg",
		"up": 0,
		"down": 0,
		"description": "Dolore itaque deserunt sit, at exercitationem delectus, consequuntur quaerat sapiente."
	},
	{
		"id": 5,
		"image": "img_5.jpg",
		"up": 0,
		"down": 0,
		"description": "Tempora distinctio inventore, nisi excepturi pariatur tempore sit quasi animi."
	},
	{
		"id": 6,
		"image": "img_6.jpg",
		"up": 0,
		"down": 0,
		"description": "Sequi, eaque suscipit accusamus. Necessitatibus libero, unde a nesciunt repellendus!"
	},
	{
		"id": 7,
		"image": "img_7.jpg",
		"up": 0,
		"down": 0,
		"description": "Necessitatibus distinctio eos ipsam cum hic temporibus assumenda deleniti, soluta."
	},
	{
		"id": 8,
		"image": "img_8.jpg",
		"up": 0,
		"down": 0,
		"description": "Debitis voluptatum est error nulla voluptate eum maiores animi quasi?"
	},
	{
		"id": 9,
		"image": "img_9.jpg",
		"up": 0,
		"down": 0,
		"description": "Maxime qui eius quisquam quidem quos unde consectetur accusamus adipisci!"
	},
	{
		"id": 10,
		"image": "img_21.jpg",
		"up": 0,
		"down": 0,
		"description": "Deleniti aliquid, accusantium, consectetur harum eligendi vitae quaerat reiciendis sit?"
	},
	{
		"id": 11,
		"image": "img_10.jpg",
		"up": 0,
		"down": 0,
		"description": "Incidunt, eaque et. Et odio excepturi, eveniet facilis explicabo assumenda."
	},
	{
		"id": 12,
		"image": "img_11.jpg",
		"up": 0,
		"down": 0,
		"description": "Laborum dolores nihil voluptates quas alias distinctio fugiat tempora sit."
	},
	{
		"id": 13,
		"image": "img_12.jpg",
		"up": 0,
		"down": 0,
		"description": "Sit, quis nulla amet numquam fugit, in reiciendis laboriosam dolor."
	},
	{
		"id": 14,
		"image": "img_13.jpg",
		"up": 0,
		"down": 0,
		"description": "Possimus explicabo voluptatem natus nisi similique ipsa repudiandae? Quibusdam, fuga."
	},
	{
		"id": 15,
		"image": "img_14.jpg",
		"up": 0,
		"down": 0,
		"description": "Magni repellendus iusto mollitia, quibusdam facilis incidunt. Sunt, repellat, voluptatem."
	},
	{
		"id": 16,
		"image": "img_15.jpg",
		"up": 0,
		"down": 0,
		"description": "Unde iure rerum cupiditate explicabo quam aut vel earum numquam."
	},
	{
		"id": 17,
		"image": "img_16.jpg",
		"up": 0,
		"down": 0,
		"description": "Qui nisi error dolorum dolor delectus, alias doloremque perspiciatis nemo."
	},
	{
		"id": 18,
		"image": "img_18.jpg",
		"up": 0,
		"down": 0,
		"description": "Neque porro vero cumque natus nam voluptatibus, ratione, commodi labore."
	},
	{
		"id": 19,
		"image": "img_17.jpg",
		"up": 0,
		"down": 0,
		"description": "Quisquam quia totam, sit ea maxime sint sed excepturi quod."
	},
	{
		"id": 20,
		"image": "img_19.jpg",
		"up": 0,
		"down": 0,
		"description": "Nesciunt non iste ex nemo sapiente eum, provident nam corporis."
	},
	{
		"id": 21,
		"image": "img_20.jpg",
		"up": 0,
		"down": 0,
		"description": "Harum repellat labore est cum ipsa, nesciunt neque mollitia adipisci?"
	},
	{
		"id": 22,
		"image": "img_22.jpg",
		"up": 0,
		"down": 0,
		"description": "Quos repellendus repudiandae debitis reprehenderit cupiditate cumque accusamus exercitationem, harum."
	},
	{
		"id": 23,
		"image": "img_23.jpg",
		"up": 0,
		"down": 0,
		"description": "Sunt numquam itaque delectus, dignissimos dolorem obcaecati vel, atque eos."
	},
	{
		"id": 24,
		"image": "img_24.jpg",
		"up": 0,
		"down": 0,
		"description": "Adipisci consequuntur ipsa fugit perspiciatis eligendi. Omnis blanditiis, totam placeat."
	},
	{
		"id": 25,
		"image": "img_25.jpg",
		"up": 0,
		"down": 0,
		"description": "Quos repellendus repudiandae debitis reprehenderit cupiditate cumque accusamus exercitationem, harum."
	},
	{
		"id": 26,
		"image": "img_26.jpg",
		"up": 0,
		"down": 0,
		"description": "Sunt numquam itaque delectus, dignissimos dolorem obcaecati vel, atque eos."
	},
	{
		"id": 27,
		"image": "img_27.jpg",
		"up": 0,
		"down": 0,
		"description": "Adipisci consequuntur ipsa fugit perspiciatis eligendi. Omnis blanditiis, totam placeat."
	},
	{
		"id": 28,
		"image": "img_28.jpg",
		"up": 0,
		"down": 0,
		"description": "Adipisci consequuntur ipsa fugit perspiciatis eligendi. Omnis blanditiis, totam placeat."
	},
	{
		"id": 29,
		"image": "img_29.jpg",
		"up": 0,
		"down": 0,
		"description": "Adipisci consequuntur ipsa fugit perspiciatis eligendi. Omnis blanditiis, totam placeat."
	},
	{
		"id": 30,
		"image": "img_30.jpg",
		"up": 0,
		"down": 0,
		"description": "Adipisci consequuntur ipsa fugit perspiciatis eligendi. Omnis blanditiis, totam placeat."
	}
]

exports.getLists = () => Promise.all(DATA.sort((a, b) => (b.up + b.down) - (a.up + a.down)))

exports.search = ({ search }) => Promise.all(DATA.filter(record => record.description.includes(search.toLowerCase())).sort((a, b) => (b.up + b.down) - (a.up + a.down)))

exports.vote = ({ id, vote, search }) => {
	if (id && vote) {
		const index = DATA.findIndex(e => e.id === Number(id))

		if (index !== -1)
			(vote === 'up') ? ++DATA[index].up : --DATA[index].down

		return Promise.all(DATA.filter(record => record.description.includes(search.toLowerCase())).sort((a, b) => (b.up + b.down) - (a.up + a.down)))
	}
}
